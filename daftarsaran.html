<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <title>Daftar Saran Pengguna</title>
    <style>
      body {
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        padding: 20px;
        color: #333;
        background: #edf2f7;
        margin: 0;
        position: relative;
      }
      h1,
      h2 {
        color: #4a5568;
      }
      ul {
        list-style-type: none;
        padding: 0;
        margin-bottom: 20px;
      }
      ul li {
        padding: 15px;
        background: #ffffff;
        margin-bottom: 10px;
        border-radius: 8px;
        box-shadow: 0 0 5px #0003;
        transition: transform 0.2s, box-shadow 0.2s;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      ul li:hover {
        transform: translateY(-3px);
        box-shadow: 0 4px 10px #0002;
      }
      button.deleteBtn {
        background: #e53e3e;
        color: #ffffff;
        border: none;
        padding: 5px 10px;
        border-radius: 5px;
        cursor: pointer;
        transition: background 0.2s;
      }
      button.deleteBtn:hover {
        background: #c53030;
      }
      button.logoutBtn {
        position: absolute;
        top: 20px;
        right: 20px;
        background: #3182ce;
        color: #ffffff;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        transition: background 0.2s;
      }
      button.logoutBtn:hover {
        background: #2b6cb0;
      }
    </style>
  </head>
  <body>
    <button class="logoutBtn" id="logoutBtn">Logout</button>

    <h1>Daftar Saran</h1>

    <ul id="suggestionList"></ul>

    <script>
      // Fungsi untuk menampilkan daftar saran dari localStorage
      function renderSuggestions() {
        const suggestionList = document.getElementById("suggestionList");
        suggestionList.innerHTML = "";
        const suggestions =
          JSON.parse(localStorage.getItem("suggestions")) || [];

        if (suggestions.length === 0) {
          suggestionList.innerHTML = "<li>Belum ada saran ihhh</li>";
        } else {
          suggestions
            .slice()
            .reverse()
            .forEach((suggestion, idx) => {
              const li = document.createElement("li");

              // Tombol delete
              const deleteBtn = document.createElement("button");
              deleteBtn.textContent = "Hapus";
              deleteBtn.classList.add("deleteBtn");

              deleteBtn.addEventListener("click", () => {
                deleteSuggestion(suggestions.length - 1 - idx);
              });

              li.textContent = suggestion;
              li.appendChild(deleteBtn);
              suggestionList.prepend(li);
            });
        }
      }

      // Fungsi untuk menghapus saran
      function deleteSuggestion(index) {
        const suggestions =
          JSON.parse(localStorage.getItem("suggestions")) || [];

        if (index >= 0 && index < suggestions.length) {
          suggestions.splice(index, 1);
          localStorage.setItem("suggestions", JSON.stringify(suggestions));
          renderSuggestions();
        }
      }

      // Tombol logout
      document.getElementById("logoutBtn").addEventListener("click", () => {
        window.location.href = "index0.html";
      });
      // Tampilkan saran saat halaman dimuat
      document.addEventListener("DOMContentLoaded", renderSuggestions);
    </script>
  </body>
</html>
